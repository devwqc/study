# 타입

## 자료형으로서의 타입

변수란 값을 **저장**할 수 있는 공간, 값을 **가리키는** 상징적인 이름이다.

컴퓨터의 메모리 공간은 한정적이라 값을 효율적으로 저장하기 위해서는 해당 **메모리 공간을 차지할 값의 크기**를 알아야 한다. 그 역할을 하는 것이 **데이터 타입, 자료형** 이라고 한다.

자바스크립트의 7가지 자료형

- undefined
- null
- Boolean(불리언)
- String(문자열)
- Symbol(심볼)
- Numeric(Number와 BigInt)
- Object

## 집합으로서의 타입

타입은 수학의 집합과 유사, 값이 가질 수 있는 **유효한 범위**의 집합

코드에서 사용되는 유효한 값의 범위를 제한해서 **런타임에서 발생할 수 있는 유효하지 않은 값에 대한 에러를 방지**

## 정적 타입과 동적 타입

> 자바스크립트에도 분명히 타입이 존재

타입을 **결정하는 시점**에 따라 정적 타입(static type)과 동적 타입(dynamic type)으로 분류한다.

정적 타입 시스템

- 타입스크립트
- 모든 변수의 타입이 **컴파일타임**에 결정
- 컴파일타임에 타입 에러를 발견할 수 있기 때문에 프로그램의 **안정성 보장**

동적 타입 시스템

- 자바스크립트
- 변수 타입이 **런타임**에 결정

---

컴파일타임

- 기계(컴퓨터, 엔진)가 소스코드를 이해할 수 있도록 **기계어로 변환되는 시점**

런타임

- 컴파일타임 이후 변환된 파일이 **메모리에 적재되어 실행되는 시점**

## 강타입과 약타입

암묵적 타입 변환(Implicit coercion conversion)

- 의도적으로 타입을 명시하거나 바꾸지 않았는데도 컴파일러 또는 엔진 등에 의해서 **런타임에 타입이 자동으로 변경**되는 것

암묵적 타입 변환 **여부**에 따라 타입 시스템을 강타입과 약타입으로 분류한다.

강타입(strongly type)

- 서로 다른 타입을 갖는 값끼리 연산을 시도하면 컴파일러 또는 인터프리터에서 **에러 발생**
- 타입스크립트

약타입(weakly type)

- 서로 다른 타입을 갖는 값끼리 연산을 시도하면 컴파일러 또는 인터프리터가 내부적으로 판단해서 특정값의 **타입을 변환**하여 연산을 수행
- 자바스크립트

---

두 가지 타입 시스템

- 어떤 타입을 사용하는지를 컴파일러에 **명시적으로 알려줘야 하는** 타입 시스템
- **자동으로 타입을 추론하는** 타입 시스템

## 구조적 타이핑

명목적 타입 시스템(Nominal Reified Type Systems)

- 여러 프로그래밍 언어에서 타입은 **이름으로 구분**되며 컴파일타임 이후에도 남아있다.

구조적 타이핑(Structural Type System)

- 타입스크립트는 **구조**로 타입을 구분한다.

## 구조적 서브타이핑

객체가 가지고 있는 **속성(프로퍼티)을 바탕으로 타입을 구분**한다.

타입 A가 타입 B의 서브타입이라면 A 타입의 인스턴스는 B 타입이 필요한 곳에 언제든지 위치할 수 있다.

## 덕 타이핑과 구조적 타이핑

둘 다 객체 변수, 메서드 같은 필드를 기반으로 타입을 검사한다는 공통점이 있다.

덕 타이핑(duck typing)

- 런타임에 타입 검사
- 주로 동적 타이핑에서 사용
- 자바스크립트

구조적 타이핑

- 컴파일타임에 타입 검사
- 주로 정적 타이핑에서 사용
- 타입스크립트

## 타입스크립트의 점진적 타입 확인

타입스크립트는 점진적으로 타입을 확인하는 언어다.

점진적 타입 검사

- 컴파일 타임에 타입을 검사하면서 필요에 따라 **타입 선언 생략**을 허용

## 값 vs 타입

타입스크립트에서 자바스크립트의 키워드가 해석되는 방식

| 키워드          | 값  | 타입 |
| --------------- | :-: | :--: |
| class           |  Y  |  Y   |
| const, let, var |  Y  |  N   |
| enum            |  Y  |  Y   |
| function        |  Y  |  N   |
| interface       |  N  |  Y   |
| type            |  N  |  Y   |
| namespace       |  Y  |  N   |

## 원시 타입

원시 값과 원시 래퍼 객체

- 자바스크립트에서 파스칼 표기법으로 표기하는 타입은 **원시 래퍼 객체**라고 부른다.
  - ex) Boolean, String, Symbol, ...
- null과 undefined를 제외한 모든 원시 값은 해당 **원시 값을 래핑한 객체를 가진다**.
- 타입스크립트의 내장 원시 타입과 구분해야 한다.

타입스크립트의 원시 타입

- boolean
- undefined
- null
- number
- bigInt
- string
- symbol

## 객체 타입

- object
  - any 타입과 유사하게 **객체에 해당하는 모든 타입 값을 유동적으로 할당**할 수 있어 가급적 사용하지 않는 것을 권장
- {}
- array
  - 타입스크립트의 배열 타입은 **하나의 타입 값만** 가질 수 있다.
  - 원소 개수는 타입에 영향을 주지 않는다.
- type, interface
  - 주로 객체를 타이핑하기 위해 사용
- function
  - **호출 시그니처**를 정의하는 방식으로 함수 자체의 타입 지정
  - ex) `type add = (a: number, b: number) => number;`
